<html><head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>5.10.&nbsp;POST /db/_temp_view</title><link href="html.css" type="text/css" rel="stylesheet"><meta content="DocBook XSL Stylesheets V1.76.1" name="generator"><link rel="home" href="index.html" title="CouchDB 1.1 Manual"><link rel="up" href="couchdb-api-db.html" title="Chapter&nbsp;5.&nbsp;CouchDB API Server Database Methods"><link rel="prev" href="couchdb-api-db_db-bulk-docs_post-errors.html" title="5.9.4.&nbsp;Bulk Document Validation and Conflict Errors"><link rel="next" href="couchdb-api-db_db-purge_post.html" title="5.11.&nbsp;POST /db/_purge"><meta name="date" content="2012-02-21T20:12:59+00:00"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table summary="Navigation header" width="100%"><tr><th align="center" colspan="3">5.10.&nbsp;<code class="literal">POST /db/_temp_view</code></th></tr><tr><td align="left" width="20%"><a accesskey="p" href="couchdb-api-db_db-bulk-docs_post-errors.html">Prev</a>&nbsp;</td><th align="center" width="60%">Chapter&nbsp;5.&nbsp;CouchDB API Server Database Methods</th><td align="right" width="20%">&nbsp;<a accesskey="n" href="couchdb-api-db_db-purge_post.html">Next</a></td></tr></table><hr></div><div class="section" title="5.10.&nbsp;POST /db/_temp_view"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="couchdb-api-db_db-temp-view_post"></a>5.10.&nbsp;<code class="literal">POST /db/_temp_view</code></h2></div></div></div><div class="informaltable"><table summary="URL API POST /db/_temp_view" border="1"><colgroup><col class="field" width="33%"><col class="info" width="33%"><col class="addinfo" width="34%"></colgroup><tbody><tr><td><span class="bold"><strong>Method</strong></span></td><td colspan="2"><code class="literal">POST /db/_temp_view</code></td></tr><tr><td><span class="bold"><strong>Request</strong></span></td><td colspan="2">
 JSON with the temporary view definition
 </td></tr><tr><td><span class="bold"><strong>Response</strong></span></td><td colspan="2">
 Temporary view result set
 </td></tr><tr><td><span class="bold"><strong>Admin Privileges Required</strong></span></td><td colspan="2">yes</td></tr></tbody></table></div><p>
      Creates (and executes) a temporary view based on the view function
      supplied in the JSON request. For example:
    </p><pre class="programlisting">POST http://couchdb:5984/recipes/_temp_view
Content-Type: application/json

{
   "map" : "function(doc) { if (doc.value &gt; 9995) { emit(null, doc.value); } }"
}</pre><p>
      The resulting JSON response is the result from the execution of
      the temporary view:
    </p><pre class="programlisting">{
   "total_rows" : 3,
   "rows" : [
      {
         "value" : 9998.41913029012,
         "id" : "05361cc6aa42033878acc1bacb1f39c2",
         "key" : null
      },
      {
         "value" : 9998.94149934853,
         "id" : "1f443f471e5929dd7b252417625ed170",
         "key" : null
      },
      {
         "value" : 9998.01511339154,
         "id" : "1f443f471e5929dd7b252417629c102b",
         "key" : null
      }
   ],
   "offset" : 0
}</pre><p>
      The arguments also available to standard view requests also apply
      to temporary views, but the execution of the view may take some
      time as it relies on being executed at the time of the request. In
      addition to the time taken, they are also computationally very
      expensive to produce. You should use a defined view if you want to
      achieve the best performance.
    </p><p>
      For more information, see
      <a class="xref" href="">???</a>.
    </p></div><div class="navfooter"><hr><table summary="Navigation footer" width="100%"><tr><td align="left" width="40%"><a accesskey="p" href="couchdb-api-db_db-bulk-docs_post-errors.html">Prev</a>&nbsp;</td><td align="center" width="20%"><a accesskey="u" href="couchdb-api-db.html">Up</a></td><td align="right" width="40%">&nbsp;<a accesskey="n" href="couchdb-api-db_db-purge_post.html">Next</a></td></tr><tr><td valign="top" align="left" width="40%">5.9.4.&nbsp;Bulk Document Validation and Conflict Errors&nbsp;</td><td align="center" width="20%"><a accesskey="h" href="index.html">Home</a></td><td valign="top" align="right" width="40%">&nbsp;5.11.&nbsp;<code class="literal">POST /db/_purge</code></td></tr></table></div></body></html>